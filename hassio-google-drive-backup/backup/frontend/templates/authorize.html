<html>
	<head>
		<script type="text/javascript">
			// Parse the paramaters into a dictionary
			var params = {};
			pairs = window.location.search.substr(1).split('&');
			for (var i =0; i < pairs.length; i++) {
				var values = pairs[i].split('=');
				var key = values.length > 0 ? values[0] : "";
				var value = values.length > 1 ? values[1] : "";
				params[key] = value;
			}

			// Parse the cookies into a dictionary
			var cookies = {};
			pairs = document.cookie.split(';');
			for (var i =0; i < pairs.length; i++) {
				var values = pairs[i].split('=');
				var key = values.length > 0 ? values[0].trim() : "";
				var value = values.length > 1 ? values[1].trim() : "";
				cookies[key] = value;
			}

			if (params['authurl'] && params['redirecturl']) {
				document.cookie="redirecturl=" + params['redirecturl'];
				window.location.replace(decodeURIComponent(params['authurl']));
			} else if (cookies['redirecturl']){
				window.location.replace(decodeURIComponent(cookies['redirecturl']) + "?" + window.location.search.substr(1));
			}
		</script>
	</head>
	<body>
	</body>
</html>